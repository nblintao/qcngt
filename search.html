---
layout: default
title: ä¸­æ–‡äº’è”ç½‘æœç´¢
---
<style>
/* Adapted from https://codepen.io/fidalgodev/pen/bOGaVy */
.form__input {
  color: #333;
  font-size: 1.2rem;
  margin: 0 auto;
  padding: 1.5rem 2rem;
  border-radius: 0.2rem;
  background-color: rgb(255, 255, 255);
  border: none;
  width: 100%;
  box-sizing: border-box;
  display: block;
  border-bottom: 0.3rem solid transparent;
  transition: all 0.3s;
}
</style>

<form id="search-from" class="form__group">
    <input type="text" id="search-box" class="form__input" placeholder="ä¸­æ–‡äº’è”ç½‘æœç´¢"/>
</form>
<div class="gcse-searchresults-only"></div>
<hr>
<iframe id="weixin-frame" width="100%" frameborder="0"></iframe>
<p><a id="link-to-wexin"></a></p>
<hr>
<p>
    <b><a href="/search">ä¸­æ–‡äº’è”ç½‘æœç´¢</a></b>ç›®å‰åŒ…æ‹¬<a href="https://www.bilibili.com">Bilibili</a>ï¼Œ<a href="https://www.douban.com">è±†ç“£</a>ï¼Œ<a href="https://weixin.sogou.com">å¾®ä¿¡</a>ï¼Œ<a href="https://www.1point3acres.com">ä¸€äº©ä¸‰åˆ†åœ°</a>ï¼Œ<a href="https://www.zhihu.com">çŸ¥ä¹</a>ï¼Œç”±<a href="https://programmablesearchengine.google.com">è°·æ­Œå¯ç¼–ç¨‹æœç´¢å¼•æ“</a>å’Œ<a href="https://weixin.sogou.com">æœç‹—ï¼ˆç”¨äºæœç´¢å¾®ä¿¡ï¼‰</a>æä¾›æ”¯æŒ
</p>

<script async src="https://cse.google.com/cse.js?cx=aceefea86feea38d1"></script>
<script>
    function weixinFrame() {
        return document.getElementById("weixin-frame");
    }
    function executeQuery(evt) {
      evt.preventDefault();
      var query = document.getElementById('search-box').value;
  
      // Search by Google Programmable Search Engine.
      var element = google.search.cse.element.getElement('searchresults-only0');
      if (query == '') {
        element.clearAllResults();
      } else {
        element.execute(query);
      }
  
      // Search Weixin by Sogou.
      var weixin_frame = weixinFrame();
      var weixin_url = "https://weixin.sogou.com/weixin?type=2&query=" + encodeURIComponent(query);
      weixin_frame.src = weixin_url;

      var linkToWeixin = document.getElementById("link-to-wexin");
      linkToWeixin.href = weixin_url;
      linkToWeixin.innerHTML = " ğŸ” åœ¨å¾®ä¿¡ä¸Šæœç´¢â€œ<b>" + query + "</b>â€";
  
      return false;
    }
    document.getElementById('search-from').addEventListener('submit', executeQuery);
  
    // TODO: Why cannot simply set width="50%" for the iframe?
    function resetIFrameHeight() {
      var weixin_frame = weixinFrame();
      weixin_frame.height = window.innerHeight * 0.5;
    }
    window.addEventListener('resize', function(event) {
      resetIFrameHeight()
    }, true);
    window.addEventListener('DOMContentLoaded', function(e) {
      resetIFrameHeight()
    });
</script>
